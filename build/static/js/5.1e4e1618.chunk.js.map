{"version":3,"sources":["components/MovieDetailsPage/MovieDetailsPage.module.css","components/MovieDetailsPage/MovieDetailsPage.js","services/moviesApi.js","components/Header/Header.js","components/Header/Header.module.css"],"names":["module","exports","MovieDetailsPage","state","movie","path","search","handleGoBack","props","history","location","from","pathname","push","routes","home","movieId","this","match","params","baseHttpService","fetchMovieDetails","then","setState","genres","overview","img","date","Number","parseInt","release_date","map","genre","name","join","poster_path","className","type","onClick","styles","btn","movieDetails","src","poster","alt","title","vote_average","container","linkBox","exact","to","id","link","activeClassName","activeLink","Component","baseURL","key","language","fetchPopularMovies","get","fetchMoviesWithQuery","searchQuery","page","fetchMovieCast","fetchMovieReviews","url","axios","res","data","Header","navigationLinkContainer","navigationLink","navigationLinkActive"],"mappings":"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","file":"static/js/5.1e4e1618.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"MovieDetailsPage_btn__4KrNH\",\"movieDetails\":\"MovieDetailsPage_movieDetails__37IIr\",\"poster\":\"MovieDetailsPage_poster__1Gt55\",\"name\":\"MovieDetailsPage_name__2SzWw\",\"container\":\"MovieDetailsPage_container__3mG8Q\",\"title\":\"MovieDetailsPage_title__1rbfz\",\"linkBox\":\"MovieDetailsPage_linkBox__1a7VL\",\"link\":\"MovieDetailsPage_link__81fW8\",\"activeLink\":\"MovieDetailsPage_activeLink__lS1iw\"};","import React, { Component } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport ImageLoader from '../Loader/Loader.js';\nimport routes from '../../routes';\nimport Header from '../../components/Header/Header';\n\nimport baseHttpService from '../../services/moviesApi';\nimport styles from './MovieDetailsPage.module.css';\n\nclass MovieDetailsPage extends Component {\n  state = {\n    movie: '',\n    path: '',\n    search: '',\n  };\n\n  componentDidMount() {\n    const { match } = this.props;\n    const { movieId } = match.params;\n    baseHttpService.fetchMovieDetails(movieId).then(movie => {\n      this.setState({\n        movie,\n        path: this.props.location.state.from.pathname,\n        search: this.props.location.state.from.search,\n      });\n    });\n    // .catch(error => (error ? this.props.history.push('/') : ''));\n  }\n\n  handleGoBack = () => {\n    const { history, location } = this.props;\n\n    if (location.state) {\n      location.state.from.search = this.state.search;\n      location.state.from.pathname = this.state.path;\n      history.push(location.state.from);\n      return;\n    }\n    this.props.history.push(routes.home);\n  };\n\n  render() {\n    const { movie } = this.state;\n    const date = Number.parseInt(movie.release_date);\n    let genres;\n    let overview;\n    let img;\n    if (movie.genres) {\n      genres = movie.genres.map(genre => genre.name).join(' ');\n    }\n    movie.overview\n      ? (overview = movie.overview)\n      : (overview = 'No overview found for this movie');\n\n    movie.poster_path\n      ? (img = `https://image.tmdb.org/t/p/w300/${movie.poster_path}`)\n      : (img =\n          'https://rimatour.com/wp-content/uploads/2017/09/No-image-found.jpg');\n    return movie ? (\n      <>\n        <Header />\n        <div className=\"container\">\n          <button\n            type=\"button\"\n            onClick={this.handleGoBack}\n            className={styles.btn}\n          >\n            Go Back\n          </button>\n          <div className={styles.movieDetails}>\n            <img src={img} className={styles.poster} alt={movie.title} />\n            <div>\n              <h2 className={styles.name}>\n                {movie.title}({date})\n              </h2>\n              <p>User score: {movie.vote_average * 10}%</p>\n              <h3>Overview</h3>\n              <p>{overview}</p>\n              <h3>Genres</h3>\n              <p>{genres}</p>\n            </div>\n          </div>\n          <div className={styles.container}>\n            <h2 className={styles.title}>Additional information</h2>\n            <ul className={styles.linkBox}>\n              <li>\n                <NavLink\n                  exact\n                  to={{\n                    pathname: `/movies/${movie.id}/cast`,\n                    state: { from: this.props.location },\n                  }}\n                  className={styles.link}\n                  activeClassName={styles.activeLink}\n                >\n                  Cast\n                </NavLink>\n              </li>\n              <li>\n                <NavLink\n                  exact\n                  to={{\n                    pathname: `/movies/${movie.id}/reviews`,\n                    state: { from: this.props.location },\n                  }}\n                  className={styles.link}\n                  activeClassName={styles.activeLink}\n                >\n                  Reviews\n                </NavLink>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </>\n    ) : (\n      <ImageLoader />\n    );\n  }\n}\n\nexport default MovieDetailsPage;\n","import axios from 'axios';\n\nclass BaseHttpService {\n  baseURL = 'https://api.themoviedb.org/3/';\n  key = '0fbec3af711d354abab0c5985079bb8e';\n  language = 'en-US';\n  fetchPopularMovies = () => {\n    return this.get(`trending/movie/day?api_key=${this.key}&adult=false`);\n  };\n  fetchMoviesWithQuery = (searchQuery, page = 1) => {\n    return this.get(\n      `search/movie?api_key=${this.key}&language=${this.language}&query=${searchQuery}&page=${page}&include_adult=false`,\n    );\n  };\n  fetchMovieDetails = id => {\n    return this.get(\n      `movie/${id}?api_key=${this.key}&language=${this.language}`,\n    );\n  };\n  fetchMovieCast = id => {\n    return this.get(\n      `movie/${id}/credits?api_key=${this.key}&language=${this.language}`,\n    );\n  };\n  fetchMovieReviews = id => {\n    return this.get(\n      `movie/${id}/reviews?api_key=${this.key}&language=${this.language}`,\n    );\n  };\n  get = (url = '') => {\n    return axios.get(`${this.baseURL}${url}`).then(res => res.data);\n  };\n}\n\nconst baseHttpService = new BaseHttpService();\n\nexport default baseHttpService;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport styles from './Header.module.css';\n\nconst Header = () => {\n  return (\n    <div className={styles.navigationLinkContainer}>\n      <NavLink\n        exact\n        to=\"/\"\n        className={styles.navigationLink}\n        activeClassName={styles.navigationLinkActive}\n      >\n        Home\n      </NavLink>\n      <NavLink\n        to=\"/movies\"\n        className={styles.navigationLink}\n        activeClassName={styles.navigationLinkActive}\n      >\n        Movies\n      </NavLink>\n    </div>\n  );\n};\n\nexport default Header;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navigationLinkContainer\":\"Header_navigationLinkContainer__21gdd\",\"navigationLink\":\"Header_navigationLink__32wha\",\"navigationLinkActive\":\"Header_navigationLinkActive__136dW\"};"],"sourceRoot":""}